#!/bin/sh

# SPDX-FileCopyrightText: Copyright (c) 2022 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
# SPDX-License-Identifier: LicenseRef-NvidiaProprietary
#
# NVIDIA CORPORATION, its affiliates and licensors retain all intellectual
# property and proprietary rights in and to this material, related
# documentation and any modifications thereto. Any use, reproduction,
# disclosure or distribution of this material and related documentation
# without an express license agreement from NVIDIA CORPORATION or
# its affiliates is strictly prohibited.

case "$1" in
    remove|deconfigure)
        cmakepath=/usr/lib/@CMAKE_LIBRARY_ARCHITECTURE@/cmake/

        rm -f $cmakepath/@NVCV_PACKAGE_NAME@
        if [ -f $cmakepath/.cvcuda_created ]; then
            rm $cmakepath/.cvcuda_created
            rmdir -p --ignore-fail-on-non-empty $cmakepath
        fi
        update-alternatives --remove nvcv-dev @CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_INCLUDEDIR@/nvcv
        ;;
esac
